<app-column-layout [show]="api">

  <div class="api__content" *ngIf='api'>

    <div class="api__table">

      <div class="api__table__header">
        <div class="api__table__header__title">
          <h1 class="heading-large">{{ api?.title }}</h1>
        </div>
        <div class="api__table__header__tags">
          <p class="hackney-tag hackney-tag--status">{{ api?.internal ? 'Internal' : 'External'}}</p>
          <p class="hackney-tag hackney-tag--status">{{ api?.stage }}</p>
        </div>
      </div>

      <div class="govuk-accordion" data-module="accordion" id="accordion-default">
        <!-- Development -->
        <app-accordion-section *ngIf="api.development" [title]="'Development'" [display]="isDeployed('development')"
          [stage]="api.development" [api]="api"></app-accordion-section>
        <!-- Staging -->
        <app-accordion-section *ngIf="api.staging" [title]="'Staging'" [display]="isDeployed('staging')"
          [stage]="api.staging" [api]="api"></app-accordion-section>
        <!-- Production -->
        <app-accordion-section *ngIf="api.production" [title]="'Production'" [display]="isDeployed('production')"
          [stage]="api.production" [api]="api"></app-accordion-section>
      </div>

      <div class="api__table__body">
        <!-- Github -->
        <div class="api__table__body__row" *ngIf="api.github_url">
          <div class="api__table__body--column1">
            <p class="api__table__body__title">Github URL</p>
          </div>
          <div class="api__table__body--column2">
            <a class="api__table__body__link ">{{api.github_url }}</a>
          </div>
        </div>
      </div>
    </div>
    <div class="api__details" *ngIf='api'>
      <div class="api__details__overview">
        <h3 class="heading-large"> Overview</h3>
        <p class="paragraph-text"> {{ api?.description }} </p>
      </div>
    </div>

    <app-api-page-compliancy [compliance]="api.compliant"></app-api-page-compliancy>
    <app-api-page-owner [owner]="api.owner"></app-api-page-owner>
  </div>

  <a routerLink="/documentation" class="hackney-button api-page__button">‚Üê Return to API Endpoints</a>
</app-column-layout>
